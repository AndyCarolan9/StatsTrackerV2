<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:pageModels="clr-namespace:StatsTrackerV2.PageModels"
             xmlns:models="clr-namespace:StatsTrackerV2.Models"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="StatsTrackerV2.Pages.KickoutStatsPage"
             x:DataType="pageModels:KickoutStatsPageModel"
             x:Name="KickoutStats"
             Title="Kickout Statistics">

    <ContentPage.Behaviors>
        <toolkit:EventToCommandBehavior
            x:Name="AppearingBehavior"
            BindingContext="{Binding Path=BindingContext, Source={x:Reference KickoutStats}, x:DataType=ContentPage}"
            EventName="Appearing"
            Command="{Binding AppearingCommand}" />
    </ContentPage.Behaviors>

    <Grid Padding="12" 
          RowDefinitions="Auto, *" 
          ColumnDefinitions="*, 125, Auto"
          RowSpacing="12"
          ColumnSpacing="12">

        <HorizontalStackLayout Grid.Row="0" Grid.Column="0" Spacing="10">
            <Picker Title="Selected Team" 
                ItemsSource="{Binding Teams}" 
                SelectedItem="{Binding SelectedTeam}" />
        </HorizontalStackLayout>

        <AbsoluteLayout x:Name="Canvas"
                        Grid.Row="1" Grid.Column="0"
                        HorizontalOptions="Fill"
                        VerticalOptions="Fill">
            <Image x:Name="MainImage"
                   Source="inputfieldhorizontalnewrules.png"
                   Aspect="AspectFit"
                   AbsoluteLayout.LayoutBounds="0,0,1,1"
                   AbsoluteLayout.LayoutFlags="All"/>

            <GraphicsView
                    x:Name="DrawingView"
                    Drawable="{Binding DotDrawable}"
                    AbsoluteLayout.LayoutBounds="0,0,1,1"
                    AbsoluteLayout.LayoutFlags="All" />
        </AbsoluteLayout>

        <VerticalStackLayout Grid.Column="1" Grid.Row="1">
            <HorizontalStackLayout>
                <CheckBox IsChecked="{Binding Show1stHalfEvents}"/>
                <Label Text="1st Half" VerticalOptions="Center" ToolTipProperties.Text="Show Kickout events from the 1st half"/>
            </HorizontalStackLayout>

            <HorizontalStackLayout>
                <CheckBox IsChecked="{Binding Show2ndHalfEvents}"/>
                <Label Text="2nd Half" VerticalOptions="Center" ToolTipProperties.Text="Show Kickout events from the 2nd half"/>
            </HorizontalStackLayout>
            
            <HorizontalStackLayout>
                <CheckBox IsChecked="{Binding ShowWonClean}"/>
                <Label Text="Won Clean" VerticalOptions="Center" ToolTipProperties.Text="Show Kickout events which were won clean (No mark/sideline called and no contact from another player)"/>
            </HorizontalStackLayout>

            <HorizontalStackLayout>
                <CheckBox IsChecked="{Binding ShowWonMark}"/>
                <Label Text="Won Mark" VerticalOptions="Center" ToolTipProperties.Text="Show Kickout events which were won and resulted in a placed ball (mark/free)"/>
            </HorizontalStackLayout>

            <HorizontalStackLayout>
                <CheckBox IsChecked="{Binding ShowWonBreak}"/>
                <Label Text="Won Break" VerticalOptions="Center" ToolTipProperties.Text="Show Kickout events which were won from a breaking ball"/>
            </HorizontalStackLayout>

            <HorizontalStackLayout>
                <CheckBox IsChecked="{Binding ShowLostClean}"/>
                <Label Text="Lost Clean" VerticalOptions="Center" ToolTipProperties.Text="Show Kickout events which were lost clean (No mark/sideline called and no contact from another player)"/>
            </HorizontalStackLayout>

            <HorizontalStackLayout>
                <CheckBox IsChecked="{Binding ShowLostMark}"/>
                <Label Text="Lost Mark" VerticalOptions="Center" ToolTipProperties.Text="Show Kickout events which were lost and resulted in a placed ball (mark/free/sideline)"/>
            </HorizontalStackLayout>

            <HorizontalStackLayout>
                <CheckBox IsChecked="{Binding ShowLostBreak}"/>
                <Label Text="Lost Break" VerticalOptions="Center" ToolTipProperties.Text="Show Kickout events which were lost from a breaking ball"/>
            </HorizontalStackLayout>
        </VerticalStackLayout>

    </Grid>
</ContentPage>