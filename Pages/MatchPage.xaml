<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:pageModels="clr-namespace:StatsTrackerV2.PageModels"
             xmlns:models="clr-namespace:StatsTrackerV2.Models"
             x:Class="StatsTrackerV2.Pages.MatchPage"
             x:DataType="pageModels:MatchPageModel"
             Title="MatchPage">
    
    <Grid Padding="12"
      ColumnSpacing="12"
      RowSpacing="12"
      RowDefinitions="Auto,*"
      ColumnDefinitions="*,300">

        <Label Grid.Row="0" Grid.ColumnSpan="2"
            Text="{Binding Match.MatchDisplayName}"
            FontSize="18"
            IsVisible="{Binding IsMatchTitleShown}"/>

        <HorizontalStackLayout Grid.Row="0" Grid.ColumnSpan="2" IsVisible="{Binding IsCreateOpenButtonsShown}" Spacing="10">
            <Button Text="Open Match" Command="{Binding OpenMatchCommand}"/>
            <Button Text="Create Match" Command="{Binding CreateMatchCommand}"/>
        </HorizontalStackLayout>

        <!-- IMAGE AREA (fills remaining space) -->
        <AbsoluteLayout x:Name="Canvas"
                    Grid.Row="1" Grid.Column="0"
                    HorizontalOptions="Fill"
                    VerticalOptions="Fill">

            <Image x:Name="MainImage"
               Source="inputfieldhorizontal.png"
               Aspect="AspectFill"
               AbsoluteLayout.LayoutBounds="0,0,1,1"
               AbsoluteLayout.LayoutFlags="All"/>

            <BoxView x:Name="TapSurface"
                 AbsoluteLayout.LayoutBounds="0,0,1,1"
                 AbsoluteLayout.LayoutFlags="All"
                 BackgroundColor="Transparent">
                <BoxView.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnTapped" />
                </BoxView.GestureRecognizers>
            </BoxView>

        </AbsoluteLayout>

        <!-- BUTTONS (scroll if they don't fit vertically) -->
        <ScrollView Grid.Row="1" Grid.Column="1">
            <VerticalStackLayout Spacing="8">
                <Button Text="Undo" />
                <Button Text="Clear" />
                <Button Text="Save" />
                <Button Text="Other" />
                <Button Text="Other" />
            </VerticalStackLayout>
        </ScrollView>

    </Grid>


</ContentPage>